
:root{
      --bg: #0b0f17;
      --panel: rgba(255,255,255,.06);
      --panel2: rgba(255,255,255,.09);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.62);
      --hair: rgba(255,255,255,.10);

      --accent: #7c5cff;
      --good: #37d67a;
      --warn: #ffd166;
      --bad: #ff5c7a;

      --r: 18px;
      --shadow: 0 18px 40px rgba(0,0,0,.45);

      /* Unified "glass" theme tokens (header + nav + modals match) */
      --glass: rgba(16,20,30,.72);
      --glass2: rgba(16,20,30,.55);
      --glassStrong: rgba(16,20,30,.88);
      --glassBorder: rgba(255,255,255,.10);
      --blur: 18px;

      --navH: 78px;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      background:
        radial-gradient(1200px 700px at 20% -10%, rgba(124,92,255,.24), transparent 60%),
        radial-gradient(900px 600px at 90% 10%, rgba(55,214,122,.14), transparent 55%),
        var(--bg);
      background-attachment: fixed; /* makes the theme feel like ONE canvas */
      color: var(--text);
      -webkit-font-smoothing: antialiased;
      -webkit-tap-highlight-color: transparent;
      min-height: 100dvh; /* better than 100vh for iPhone/PWA */
    }
.app{
      min-height: 100%;
      /* IMPORTANT: remove safe-area top here so HEADER can own it (looks seamless on iPhone) */
      padding: 0 14px calc(var(--navH) + env(safe-area-inset-bottom)) 14px;
      max-width: 780px;
      margin: 0 auto;
    }
header{
  position: sticky;
  top: 0;
  z-index: 60;

  backdrop-filter: blur(var(--blur));
  -webkit-backdrop-filter: blur(var(--blur));

  background: linear-gradient(
    to bottom,
    var(--glassStrong) 0%,
    rgba(16,20,30,.62) 60%,
    rgba(16,20,30,0) 100%
  );

  padding: calc(env(safe-area-inset-top) + 12px) 0 14px 0;
  box-shadow: 0 12px 30px rgba(0,0,0,.35);

  /* âœ… Rounded bottom corners */
  border-bottom-left-radius: 22px;
  border-bottom-right-radius: 22px;

  /* Optional subtle separation */
  border-bottom: 1px solid rgba(255,255,255,.08);

  overflow: hidden; /* required for radius + blur to clip properly */
}
    .topbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
      padding: 4px 2px 6px 2px;
    }

    .brand{
      display:flex;
      flex-direction:column;
      gap: 2px;
    }
    .brand .title{
      font-weight: 720;
      letter-spacing: .2px;
      font-size: 18px;
      line-height: 1.15;
    }
    .brand .subtitle{
      font-size: 12px;
      color: var(--muted);
    }

    .chip{
      display:inline-flex;
      align-items:center;
      gap: 8px;
      padding: 10px 12px;
      border-radius: 999px;
      background: rgba(255,255,255,.06);
      border: 1px solid var(--hair);
      color: var(--text);
      font-size: 13px;
      user-select:none;
      max-width: 52vw;
      overflow:hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    main{ padding-top: 10px; }

    .grid{
      display:grid;
      gap: 12px;
    }
    @media (min-width: 640px){
      .grid.cols2{ grid-template-columns: 1fr 1fr; }
    }

    .card{
      background: linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.04));
      border: 1px solid var(--hair);
      border-radius: var(--r);
      box-shadow: var(--shadow);
      padding: 14px;
    }
    .card h2{
        margin: 0 0 10px 0;
        font-size: 14px;
        letter-spacing: .3px;
        color: var(--text); /* ðŸ”¥ changed to white */
        font-weight: 750;
        text-transform: uppercase;
      }

    .btnrow{ display:flex; gap: 10px; flex-wrap: wrap; }
    .btn{
      appearance:none;
      border:none;
      cursor:pointer;
      border-radius: 14px;
      padding: 12px 14px;
      font-weight: 650;
      color: var(--text);
      background: rgba(255,255,255,.08);
      border: 1px solid var(--hair);
      user-select:none;
    }
    .btn.primary{
      background: linear-gradient(180deg, rgba(124,92,255,.95), rgba(124,92,255,.75));
      border-color: rgba(124,92,255,.35);
    }
    .btn.danger{
      background: rgba(255,92,122,.14);
      border-color: rgba(255,92,122,.28);
    }
    .btn:active{ transform: translateY(1px); }
.btn.sm{
  padding: 8px 10px;
  border-radius: 12px;
  font-size: 13px;
}

.btn.ghost{
  background: rgba(255,255,255,.05);
}

    .muted{ color: var(--muted); }
    .kpi{
      display:flex;
      flex-direction:column;
      gap: 4px;
      padding: 8px 0 0 0;
    }
    .kpi .big{
        font-size: 22px;
        font-weight: 760;
        letter-spacing: .2px;
        color: var(--text); /* ensures no inheritance */
      }
    .kpi .small{
        font-size: 13px;
        color: var(--text); /* ðŸ”¥ changed to white */
        line-height: 1.35;
      }
    /* Progress Overview (stacked like screenshot) */
    .overviewList{
      display: grid;
      grid-template-columns: 1fr;
      gap: 14px;
      padding: 8px 0 0 0;
    }
    .overviewRow{
      display:flex;
      flex-direction:column;
      gap: 6px;
    }
    .overviewLabel{
      font-size: 12px;
      color: var(--muted);
      font-weight: 720;
      letter-spacing: .22px;
      text-transform: uppercase;
    }
    .overviewValue{
      font-size: 22px;
      font-weight: 820;
      letter-spacing: .2px;
      line-height: 1.15;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    @media (min-width: 640px){
      .overviewList{
        grid-template-columns: 1fr 1fr;
        gap: 18px;
      }
      .overviewValue{ font-size: 24px; }
    }

    .form{ display:grid; gap: 10px; }
    .row2{ display:grid; gap: 10px; }
    @media (min-width: 640px){ .row2{ grid-template-columns: 1fr 1fr; } }

    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Log Sets (Modal) â€” Compact + Sticky + Scroll
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

.logsetShell{
  display:flex;
  flex-direction:column;
  gap: 10px;
  min-height: 0; /* important for nested scrolling */
}

.logsetHead{
  position: sticky;
  top: 0;
  z-index: 2;
  padding: 10px;
  border-radius: 16px;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.10);
  backdrop-filter: blur(10px);
}

.logsetHead .note{ margin: 0; }

.logsetScroll{
  min-height: 0;
  max-height: 52vh;              /* keeps it compact inside the modal */
  overflow-y: auto;
  overflow-x: hidden;
  padding-right: 2px;
  padding-bottom: 12px;          /* prevents last row from hiding under sticky bar */
  -webkit-overflow-scrolling: touch; /* smooth scroll on iOS */
}

.logsetWLCard{
  padding: 10px;
  border-radius: 16px;
  background: rgba(255,255,255,.04);
  border: 1px solid rgba(255,255,255,.08);
}

.logsetGridHead{
  display:grid;
  grid-template-columns: 40px 1fr 1fr;
  gap: 10px;
  align-items:center;
  font-size: 12px;
  color: var(--muted);
  font-weight: 740;
  letter-spacing: .22px;
  text-transform: uppercase;
  margin-bottom: 8px;
  padding: 0 4px;
}

.logsetRow{
  display:grid;
  grid-template-columns: 40px 1fr 1fr;
  gap: 10px;
  align-items:center;
  padding: 8px 6px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.06);
  background: rgba(255,255,255,.03);
}

.logsetRow + .logsetRow{ margin-top: 8px; }

/* Active row highlight â€” Medium (background + border) */
.logsetRow.active{
  background: rgba(255,255,255,.08);
  border-color: rgba(124,92,255,.35);
  box-shadow: 0 0 0 1px rgba(124,92,255,.15) inset;
}

.logsetSetPill{
  display:flex;
  align-items:center;
  justify-content:center;
  height: 34px;
  border-radius: 12px;
  font-weight: 820;
  font-size: 12px;
  color: rgba(255,255,255,.85);
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.10);
}

.logsetRow input{
  width: 100%;
}

/* Sticky bottom bar INSIDE the scroll area */
.logsetStickyBar{
  position: sticky;
  bottom: 0;
  z-index: 3;
  display:flex;
  gap: 10px;
  padding-top: 10px;
  margin-top: 10px;
  background: linear-gradient(180deg, rgba(16,20,30,0), rgba(16,20,30,.75) 30%, rgba(16,20,30,.92));
  backdrop-filter: blur(10px);
}

.logsetStickyBar .btn{
  flex: 1;
}

    label{
      display:flex;
      flex-direction:column;
      gap: 7px;
      font-size: 12.5px;
      color: var(--muted);
      font-weight: 650;
      letter-spacing: .2px;
    }
input, select, textarea{
  appearance:none;
  border-radius: 14px;
  padding: 12px 12px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.06);
  color: var(--text);
  font-size: 16px; /* âœ… critical: prevents iOS focus zoom */
  outline: none;
}
    input::placeholder{ color: rgba(255,255,255,.35); }
    input:focus, select:focus{
      border-color: rgba(124,92,255,.40);
      box-shadow: 0 0 0 4px rgba(124,92,255,.14);
    }
    /* Glass select (used in Exercise Library Add/Edit modal) */
select.glassSelect{
  background: rgba(255,255,255,.10);
  border: 1px solid rgba(255,255,255,.16);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}
/* Fix white iOS select background + enforce glass style */
select,
select.glassSelect{
  -webkit-appearance: none;
  appearance: none;
  background: rgba(255,255,255,.08) !important;
  color: rgba(255,255,255,.92) !important;
  border: 1px solid rgba(255,255,255,.16);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}

/* Fix dropdown option text visibility */
select option{
  color: #000;   /* iOS dropdown list must stay readable */
}
    .toggle{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.05);
      border-radius: 14px;
      padding: 12px 12px;
    }
    .toggle .ttext{
      display:flex;
      flex-direction:column;
      gap: 2px;
    }
    .toggle .ttext .a{ color: var(--text); font-weight: 700; font-size: 14px; }
    .toggle .ttext .b{ color: var(--muted); font-size: 12px; line-height: 1.35; }
    .switch{
      width: 52px;
      height: 30px;
      border-radius: 999px;
      background: rgba(255,255,255,.10);
      border: 1px solid rgba(255,255,255,.14);
      position: relative;
      flex: 0 0 auto;
      cursor:pointer;
      user-select:none;
    }
    .switch::after{
      content:"";
      position:absolute;
      top: 50%;
      left: 3px;
      transform: translateY(-50%);
      width: 24px;
      height: 24px;
      border-radius: 999px;
      background: rgba(255,255,255,.82);
      transition: left .16s ease, background .16s ease;
    }
    .switch.on{
      background: rgba(124,92,255,.30);
      border-color: rgba(124,92,255,.34);
    }
    .switch.on::after{
      left: 25px;
      background: rgba(255,255,255,.92);
    }

    .tplGrid{ display:grid; gap: 10px; }
    @media (min-width: 640px){ .tplGrid{ grid-template-columns: 1fr 1fr; } }
    .tpl{
      border-radius: 16px;
      padding: 12px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.05);
      cursor:pointer;
      user-select:none;
      transition: transform .06s ease;
    }
    .tpl:active{ transform: translateY(1px); }
    .tpl .name{ font-weight: 780; letter-spacing: .2px; margin-bottom: 4px; }
    .tpl .desc{ color: var(--muted); font-size: 12.5px; line-height: 1.35; }
    .tpl.selected{
      border-color: rgba(124,92,255,.34);
      background: rgba(124,92,255,.12);
      box-shadow: 0 0 0 4px rgba(124,92,255,.10);
    }

    .note{
      font-size: 12.5px;
      color: var(--muted);
      line-height: 1.35;
    }
    /* Home Dashboard */
    .homeRow{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 12px;
      flex-wrap: wrap;
    }

    .dots{
      display:flex;
      gap: 8px;
      flex-wrap: wrap;
      align-items:center;
    }
    .dotDay{
      width: 14px;
      height: 14px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.06);
    }
    .dotDay.on{
      background: rgba(55,214,122,.55);
      border-color: rgba(55,214,122,.50);
    }
    .dotLabel{
      font-size: 12px;
      color: var(--muted);
      margin-top: 8px;
    }

    .ringWrap{
      width: 120px;
      height: 120px;
      border-radius: 999px;
      position: relative;
      display:flex;
      align-items:center;
      justify-content:center;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      flex: 0 0 auto;
    }
    .ringWrap::before{
      content:"";
      position:absolute;
      inset: 8px;
      border-radius: 999px;
      background: rgba(11,15,23,.95);
      border: 1px solid rgba(255,255,255,.08);
    }
    .ringText{
      position: relative;
      z-index: 2;
      display:flex;
      flex-direction:column;
      align-items:center;
      text-align:center;
      gap: 2px;
    }
    .ringText .big{
      font-size: 18px;
      font-weight: 850;
      letter-spacing:.2px;
    }
    .ringText .small{
      font-size: 12px;
      color: var(--muted);
      line-height: 1.2;
    }
        /* Log Sets */
    .logGrid{ display:grid; gap:12px; }
    .logRow2{ display:grid; gap:10px; }
    @media (min-width: 640px){
      .logRow2{ grid-template-columns: 1fr 1fr; }
    }
    .log3{ display:grid; gap:10px; }
    @media (min-width: 640px){
      .log3{ grid-template-columns: 1fr 1fr 1fr; }
    }

    .chiprow{ display:flex; gap:8px; flex-wrap:wrap; align-items:center; }
    .chip2{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 10px 12px;
      border-radius: 999px;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.10);
      color: var(--text);
      font-size: 12.5px;
      font-weight: 700;
      user-select:none;
    }

    .sets{
      display:grid;
      gap:10px;
    }
    .setCard{
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.05);
      border-radius: 16px;
      padding: 12px;
      display:grid;
      gap: 10px;
    }
    .setTop{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }
    .setTop .t{
      font-weight: 820;
      letter-spacing:.15px;
    }
    .mini2{
      appearance:none;
      border:none;
      cursor:pointer;
      border-radius: 12px;
      padding: 10px 10px;
      font-weight: 750;
      font-size: 12px;
      color: var(--text);
      background: rgba(255,255,255,.08);
      border: 1px solid rgba(255,255,255,.12);
      user-select:none;
    }
    .mini2.danger{
      background: rgba(255,92,122,.14);
      border-color: rgba(255,92,122,.28);
    }

    .hr{
      height:1px;
      background: rgba(255,255,255,.10);
      margin: 10px 0;
    }
        /* Progress */
    .chartWrap{
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      border-radius: 16px;
      padding: 12px;
      overflow:hidden;
    }
    canvas{
      max-width: 100%;
      height: 280px;
    }
    @media (min-width: 640px){
      canvas{ height: 320px; }
    }
        /* Routine Editor */
    .pillrow{ display:flex; gap:8px; flex-wrap:wrap; }
    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 10px 12px;
      border-radius: 999px;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.10);
      color: var(--text);
      font-size: 12.5px;
      font-weight: 700;
      user-select:none;
      cursor:pointer;
    }
    .pill.active{
      background: rgba(124,92,255,.14);
      border-color: rgba(124,92,255,.22);
    }
/* Header: Synced/Offline + Version pills */
.subPills{
  display:flex;
  gap: 8px;
  align-items:center;
  flex-wrap: wrap;
  margin-top: 6px;
}
.subPill{
  appearance:none;
  border: 1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.06);
  color: rgba(255,255,255,.86);
  padding: 6px 10px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 800;
  letter-spacing: .2px;
  cursor: pointer;
}
.subPill:active{ transform: scale(.98); }
.subPill.warn{
  border-color: rgba(255,180,0,.35);
  background: rgba(255,180,0,.14);
}
.subPill.ok{
  border-color: rgba(124,92,255,.40);
  background: rgba(124,92,255,.16);
}
.subPill.off{
  border-color: rgba(255,255,255,.16);
  background: rgba(255,255,255,.06);
}
    .dayGrid{
      display:grid;
      gap:10px;
    }
    @media (min-width: 640px){
      .dayGrid{ grid-template-columns: 1fr 1fr; }
    }
    .dayCard{
      border-radius: 16px;
      padding: 12px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.05);
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    .dayTop{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:10px;
    }
    .dayTitle{
      display:flex;
      flex-direction:column;
      gap:3px;
      min-width:0;
    }
    .dayTitle .lbl{
      font-weight: 820;
      letter-spacing:.15px;
      overflow:hidden;
      text-overflow:ellipsis;
      white-space:nowrap;
      max-width: 46vw;
    }
    .dayTitle .sub{
      font-size: 12.5px;
      color: var(--muted);
    }
    .exList{ display:grid; gap:8px; }
    .exRow{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.05);
      border-radius: 14px;
      padding: 10px 10px;
    }
    .exRow .n{
      font-weight: 750;
      overflow:hidden;
      text-overflow:ellipsis;
      white-space:nowrap;
      max-width: 44vw;
    }

    /* Library UI */
    .seg{
      display:flex;
      gap: 8px;
      padding: 6px;
      background: rgba(255,255,255,.05);
      border: 1px solid rgba(255,255,255,.10);
      border-radius: 16px;
    }
    .segbtn{
      flex:1;
      appearance:none;
      border:none;
      cursor:pointer;
      border-radius: 12px;
      padding: 10px 10px;
      font-weight: 750;
      font-size: 12.5px;
      color: var(--muted);
      background: transparent;
      user-select:none;
    }
    .segbtn.active{
      color: var(--text);
      background: rgba(124,92,255,.16);
      border: 1px solid rgba(124,92,255,.22);
    }

    .list{
      display:grid;
      gap: 10px;
    }
    .item{
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.05);
      border-radius: 16px;
      padding: 12px;
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap: 12px;
    }
    .item .left{
      display:flex;
      flex-direction:column;
      gap: 4px;
      min-width: 0;
    }
    .item .name{
      font-weight: 820;
      letter-spacing: .15px;
      overflow:hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      max-width: 58vw;
    }
    .item .meta{
      font-size: 12.5px;
      color: var(--muted);
      line-height: 1.35;
    }
    .item .actions{
      display:flex;
      gap: 8px;
      flex: 0 0 auto;
    }
    .mini{
      appearance:none;
      border:none;
      cursor:pointer;
      border-radius: 12px;
      padding: 10px 10px;
      font-weight: 750;
      font-size: 12px;
      color: var(--text);
      background: rgba(255,255,255,.08);
      border: 1px solid rgba(255,255,255,.12);
      user-select:none;
    }
    .mini.danger{
      background: rgba(255,92,122,.14);
      border-color: rgba(255,92,122,.28);
    }
        /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
       Add Exercise Modal (Routine Editor) â€” compact, phone-first
       â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .addExModal{
      display:flex;
      flex-direction:column;
      gap: 10px;
      height: min(76vh, 640px);
    }

    .addExCtx{ display:flex; flex-direction:column; gap:2px; }
    .addExCtxA{
      font-size: 11px;
      letter-spacing: .16em;
      text-transform: uppercase;
      color: var(--muted);
    }
    .addExCtxB{
      font-size: 14px;
      font-weight: 900;
      letter-spacing: .1px;
      overflow:hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    .addExSearch{
      display:flex;
      align-items:center;
      gap: 10px;
      padding: 10px 12px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.06);
      position: sticky;
      top: 0;
      z-index: 2;
      backdrop-filter: blur(8px);
    }
    .addExSearch .ico{ opacity:.85; }
    .addExSearch input{
      flex:1;
      border: none !important;
      background: transparent !important;
      padding: 0 !important;
      outline: none !important;
      color: rgba(255,255,255,.92);
      font-size: 16px; /* prevents iOS zoom */
    }
    .addExSearch input::placeholder{ color: rgba(255,255,255,.45); }

    .addExScroller{
      flex:1;
      overflow:auto;
      overscroll-behavior: contain;
      -webkit-overflow-scrolling: touch;
      padding-bottom: 8px;
    }

    .addExSectionLabel{
      font-size: 11px;
      letter-spacing: .16em;
      text-transform: uppercase;
      color: rgba(255,255,255,.60);
      margin: 6px 2px 8px;
    }

    .addExGroup{
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      overflow:hidden;
      margin-bottom: 10px;
    }
    .addExGroupHead{
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 12px;
      padding: 12px 12px;
      cursor: pointer;
      user-select: none;
    }
    .addExGroupHead:active{ transform: scale(.995); }

    .addExGroupLeft{ display:flex; flex-direction:column; gap:2px; min-width:0; }
    .addExGroupTitle{
      font-weight: 900;
      letter-spacing: .1px;
      overflow:hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }
    .addExGroupSub{
      font-size: 12px;
      color: var(--muted);
    }
    .addExGroupCaret{ opacity:.85; font-weight: 900; }

    .addExGroupBody{
      padding: 0 10px 10px;
      border-top: 1px solid rgba(255,255,255,.08);
      display:grid;
      gap: 8px;
    }

    /* Slightly tighter rows inside this modal */
    .addExRow{
      padding: 10px;
      border-radius: 14px;
    }
    .addExRow .name{ max-width: 64vw; }
   
 /* Secondary muscle highlight in Add Exercise meta line */
.addExRow .meta .secMuscle{
  display:inline-block;
  padding: 2px 8px;
  border-radius: 999px;
  font-weight: 800;
  letter-spacing: .2px;

  color: #ffffff;
  background: rgba(255,255,255,.12);
  border: 1px solid rgba(255,255,255,.25);

  transform: translateY(-.5px);
}
    .addExBottom{
      display:flex;
      align-items:center;
      gap: 10px;
      padding: 10px 10px;
      border-top: 1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.18);
      position: sticky;
      bottom: 0;
      z-index: 2;
      backdrop-filter: blur(10px);
      border-radius: 14px;
    }
    .addExCount{
      font-size: 12px;
      color: rgba(255,255,255,.75);
      font-weight: 800;
      padding: 8px 10px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.05);
    }

    .addExSearchHint{
      font-size: 12px;
      color: rgba(255,255,255,.70);
      font-weight: 800;
      margin: 6px 2px 8px;
    }

    @media (max-width: 500px){
      .addExModal{ height: 78vh; gap: 8px; }
      .addExCtxB{ font-size: 13px; }
      .addExGroupHead{ padding: 11px 11px; }
      .addExGroupBody{ padding: 0 9px 9px; gap: 7px; }
      .addExRow{ padding: 9px; }
      .addExBottom{ padding: 9px 9px; }
      .addExCount{ padding: 7px 9px; }
    }
    /* Attendance */
    .calWrap{
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      border-radius: 16px;
      padding: 12px;
    }
    .calGrid{
      display:grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 8px;
      user-select:none;
    }
    .calCell{
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.05);
      padding: 10px 8px;
      min-height: 44px;
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight: 750;
      cursor:pointer;
    }
    .calCell.header{
      cursor: default;
      background: rgba(255,255,255,.03);
      color: rgba(255,255,255,.65);
      font-weight: 700;
      font-size: 12px;
      letter-spacing: .2px;
      min-height: 36px;
    }
    .calCell.blank{
      cursor: default;
      background: transparent;
      border: 1px dashed rgba(255,255,255,.10);
      opacity: .55;
    }
    .calCell.on{
      background: rgba(55,214,122,.22);
      border-color: rgba(55,214,122,.35);
    }
    .calTop{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
      flex-wrap: wrap;
    }
    .calTitle{
      font-weight: 820;
      letter-spacing:.2px;
    }
    /* Bottom nav */
    .nav{
      position: fixed;
      left: 0;
      right: 0;
      bottom: 0;
      height: calc(var(--navH) + env(safe-area-inset-bottom));
      padding: 10px 10px calc(10px + env(safe-area-inset-bottom)) 10px;
      display:flex;
      justify-content:center;
      z-index: 50;
      pointer-events:none;
    }
.navbar{
      width: min(780px, calc(100% - 18px));
      display:flex;
      justify-content:space-between;
      gap: 8px;
      background: var(--glass);
      border: 1px solid var(--glassBorder);
      border-radius: 22px;
      padding: 8px;
      backdrop-filter: blur(var(--blur));
      box-shadow: 0 18px 44px rgba(0,0,0,.55);
      pointer-events:auto;
    }
    .navbtn{
      flex: 1;
      appearance:none;
      border:none;
      background: transparent;
      color: var(--muted);
      padding: 10px 6px;
      border-radius: 16px;
      font-size: 11.5px;
      font-weight: 650;
      display:flex;
      flex-direction:column;
      gap: 6px;
      align-items:center;
      justify-content:center;
      cursor:pointer;
      user-select:none;
    }
    .navbtn .dot{
      width: 26px;
      height: 26px;
      border-radius: 10px;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.10);
    }
    .navbtn.active{
      color: var(--text);
      background: rgba(124,92,255,.14);
      border: 1px solid rgba(124,92,255,.22);
    }
    .navbtn.active .dot{
      background: rgba(124,92,255,.22);
      border-color: rgba(124,92,255,.30);
    }
/* Lock background scroll when any modal is open */
body.modalOpen{
  overflow: hidden;
  height: 100%;
  touch-action: none;
}
    /* Modal */
.modalHost{
      position: fixed;
      inset: 0;
      display:none;
      align-items:flex-end;
      justify-content:center;
      z-index: 80;
      /* safe areas so sheets never clash with notch/home indicator */
      padding: env(safe-area-inset-top) 10px calc(12px + env(safe-area-inset-bottom)) 10px;
    }
    .modalHost.show{ display:flex; }
    .backdrop{
      position:absolute;
      inset:0;
      background: rgba(0,0,0,.55);
      backdrop-filter: blur(8px);
    }
.sheet{
      position:relative;
      width: min(780px, 100%);
      /* iPhone/PWA correct sizing: dvh tracks Safari bars correctly */
      max-height: calc(100dvh - 32px);
      overflow:auto;
      -webkit-overflow-scrolling: touch;
      background: rgba(16,20,30,.92);
      border: 1px solid rgba(255,255,255,.12);
      border-radius: 22px 22px 0 0;
      box-shadow: 0 22px 60px rgba(0,0,0,.65);
      padding: 14px;
      transform: translateY(10px);
    }
    /* Modal size variants */
.sheet.md{
  width: min(780px, 100%);
}

.sheet.sm{
  width: min(520px, 100%);
  max-height: min(520px, calc(100dvh - 32px));
}

    /* iOS: prevent input focus zoom inside modals (keep inputs at 16px on iPhone) */
@media (hover:none) and (pointer:coarse){
  .modalHost .sheet input,
  .modalHost .sheet select,
  .modalHost .sheet textarea{
    font-size: 16px !important;
  }
}
        .modalHost.center{
      align-items:center;          /* center vertically */
      padding: 14px 10px;          /* breathing room */
    }
    .modalHost.center .sheet{
      border-radius: 22px;         /* full rounded card (not bottom sheet) */
      transform: translateY(0);    /* remove bottom-sheet lift */
    }
    .sheetHeader{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
      padding-bottom: 10px;
      border-bottom: 1px solid rgba(255,255,255,.10);
      margin-bottom: 10px;
    }
    .sheetHeader .h{
      font-weight: 760;
      letter-spacing: .2px;
    }
    .xbtn{
      appearance:none;
      border:none;
      background: rgba(255,255,255,.08);
      border: 1px solid rgba(255,255,255,.12);
      color: var(--text);
      border-radius: 14px;
      padding: 10px 12px;
      cursor:pointer;
      font-weight: 700;
    }
    .pulse{
  animation: pulseAnim 1.2s ease;
}
@keyframes pulseAnim{
  0%{ box-shadow: 0 0 0 0 rgba(124,92,255,.6); }
  70%{ box-shadow: 0 0 0 10px rgba(124,92,255,0); }
  100%{ box-shadow: 0 0 0 0 rgba(124,92,255,0); }
}
    /* Glass dropdown (routine picker) */
.popHost{
  position: fixed;
  inset: 0;
  z-index: 95;
  display: none;
}
.popHost.show{ display:block; }

.popBackdrop{
  position:absolute;
  inset:0;
  background: rgba(0,0,0,.25);
  backdrop-filter: blur(6px);
}

.popPanel{
  position:absolute;
  width: min(420px, calc(100vw - 24px));

  /* UPDATED: allow the picker to grow taller so all templates are visible more often */
  max-height: min(620px, calc(100vh - 120px));
  overflow:auto;

  background: rgba(16,20,30,.72);
  border: 1px solid rgba(255,255,255,.14);
  border-radius: 18px;
  box-shadow: 0 22px 60px rgba(0,0,0,.65);
  backdrop-filter: blur(18px);

  padding: 10px;
}

.popTitle{
  font-size: 12px;
  color: rgba(255,255,255,.65);
  letter-spacing: .2px;
  font-weight: 700;
  padding: 6px 6px 10px 6px;
  border-bottom: 1px solid rgba(255,255,255,.10);
  margin-bottom: 10px;
}

.popItem{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 10px;

  padding: 10px 10px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.05);
  cursor:pointer;
  user-select:none;
}
.popItem:active{ transform: translateY(1px); }

.popItem .l{
  min-width:0;
  display:flex;
  flex-direction:column;
  gap: 3px;
}
.popItem .n{
  font-weight: 820;
  overflow:hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  max-width: 52vw;
}
.popItem .m{
  font-size: 12px;
  color: rgba(255,255,255,.60);
}
.popBadge{
  font-size: 12px;
  font-weight: 800;
  padding: 8px 10px;
  border-radius: 999px;
  border: 1px solid rgba(124,92,255,.28);
  background: rgba(124,92,255,.16);
}
   /* Routine layout refinements (locked design) */
.rHdrRow{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
}
/* Routine: fixed header+carousel, scrollable content below */
.routinePage{
  display:flex;
  flex-direction:column;
  gap: 12px;
  height: calc(100dvh - var(--headerH, 72px) - var(--navH) - env(safe-area-inset-bottom));
}

.routineFixed{
  flex: 0 0 auto;
  display:grid;
  gap: 12px;
}
/* Compact exercise rows under Routine carousel */
.rxCard{
  padding: 10px 12px;
}

.rxTop{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
}

.rxName{
  font-weight: 860;
  letter-spacing: .1px;
  font-size: 14px;
}

.rxChip{
  font-size: 12px;
  font-weight: 800;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.06);
  color: rgba(255,255,255,.80);
  white-space: nowrap;
}

.rxChip.on{
  border-color: rgba(124,92,255,.30);
  background: rgba(124,92,255,.16);
  color: rgba(255,255,255,.92);
}

.rxMeta{
  font-size: 12px;
  color: rgba(255,255,255,.65);
  margin-top: 4px;
  line-height: 1.25;
}

.rxActions{
  display:flex;
  gap:10px;
  margin-top: 8px;
  flex-wrap: wrap;
}
.routineScroll{
  flex: 1 1 auto;
  overflow:auto;
  -webkit-overflow-scrolling: touch;
  display:grid;
  gap: 12px;
  padding-bottom: 6px;
}
/* âœ… Routine header: lock button positions */
.routineHeaderCard{
  position: relative;
}

/* Start Today = top-right */
.routineStartBtn{
  position: absolute;
  top: 14px;
  right: 14px;
}

/* 3D Preview toggle = bottom-right */
.routine3DToggle{
  position: absolute;
  right: 14px;
  bottom: 14px;
}    
.manageLink{
  margin-top: 10px;
  font-weight: 750;
  color: rgba(255,255,255,.72);
  cursor:pointer;
  user-select:none;
}
.manageLink:active{ transform: translateY(1px); }

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Routine â€” 3D Square Carousel + Day Strip (Option C - compact)
   (visual-only)
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

.carouselCard{
  padding: 12px;
  display:flex;
  flex-direction:column;
  gap:10px;
}

/* 3D stage (cards area) */
.c3d{
  position: relative;
  height: 160px;                 /* âœ… more compact */
  display:flex;
  align-items:center;
  justify-content:center;
  perspective: 1000px;
  transform-style: preserve-3d;
  touch-action: pan-y;
  user-select:none;
}

/* Square â€œ3Dâ€ card */
/* Square â€œ3Dâ€ card */
.c3dCard{
  position:absolute;
  width: min(58vw, 190px);       /* âœ… smaller cards */
  aspect-ratio: 1 / 1;
  border-radius: 18px;

  /* Base glass (non-selected) */
  background: linear-gradient(180deg,
    rgba(18,22,30,.35),
    rgba(12,14,20,.22)
  );
  border: 1px solid rgba(255,255,255,.14);
  box-shadow: 0 18px 55px rgba(0,0,0,.55);
  padding: 12px;
  display:flex;
  flex-direction:column;
  justify-content:space-between;
  will-change: transform, opacity, filter;
  overflow: hidden; /* important for overlay */
}

/* Dim non-selected cards */
.c3dCard:not(.sel){
  filter: saturate(.70) brightness(.60);
}

/* Dark-glass active card that blocks anything behind it */
.c3dCard.sel{
  border-color: rgba(55,214,122,.45); /* subtle neon accent */

  /* âœ… opaque dark glass gradient (prevents seeing other cards through it) */
  background: linear-gradient(180deg,
    rgba(12,14,18,.92),
    rgba(10,12,16,.86)
  );

  box-shadow:
    0 22px 70px rgba(0,0,0,.70),
    0 0 0 1px rgba(55,214,122,.18) inset;

  filter: none;
  opacity: 1 !important;
}

/* Subtle glass sheen layer (keeps "glassy" feel without transparency) */
.c3dCard::before{
  content:"";
  position:absolute;
  inset:0;
  background: linear-gradient(135deg,
    rgba(255,255,255,.10),
    rgba(255,255,255,.02) 45%,
    rgba(255,255,255,0)
  );
  pointer-events:none;
}

.c3dCard.sel::before{
  /* Slightly stronger sheen on active card */
  background: linear-gradient(135deg,
    rgba(255,255,255,.12),
    rgba(255,255,255,.03) 45%,
    rgba(255,255,255,0)
  );
}
.c3dDay{
  font-size: 22px;
  font-weight: 950;
  letter-spacing: .8px;
}

.c3dLabel{
  font-size: 15px;
  font-weight: 850;
  color: rgba(255,255,255,.78);
  margin-top: 4px;
}

.c3dMeta{
  font-size: 12px;
  color: rgba(255,255,255,.60);
  font-weight: 750;
  margin-top: 8px;
}

.c3dChips{
  display:flex;
  gap: 8px;
  justify-content:flex-end;
}

.c3dChip{
  padding: 8px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.05);
  color: rgba(255,255,255,.82);
  font-weight: 850;
  font-size: 12px;
  letter-spacing: .2px;
  white-space: nowrap;
}

.c3dChip.active{
  border-color: rgba(55,214,122,.45);
  box-shadow: 0 0 0 1px rgba(55,214,122,.18) inset;
}

/* Day strip (fixed under carousel) */
.routineDayStrip{
  display:flex;
  gap: 8px;
  justify-content:space-between;
  margin-top: 20px; 
}
/* âœ… Day strip: day + date number + label (Compact Hybrid) */
.routineDayStrip{
  display:flex;
  gap: 8px;
  justify-content:space-between;
  margin-top: 20px;
}

.routineDayBtn{
  flex: 1 1 0;
  min-width: 0;

  /* âœ… Taller so the label line can be seen */
  height: 74px;

  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.03);

  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;

  /* âœ… Tight spacing so 3 lines + dot fit cleanly */
  gap: 3px;

  color: rgba(255,255,255,.60);
  font-weight: 950;
  letter-spacing: .6px;

  padding: 10px 8px;
}

.routineDayBtn .dow{
  font-size: 11px;
  font-weight: 900;
  letter-spacing: .6px;
  opacity: .85;
  line-height: 1;
}

.routineDayBtn .num{
  font-size: 14px;
  font-weight: 950;
  line-height: 1;
}

.routineDayBtn .lbl{
  font-size: 11px;
  font-weight: 850;
  opacity: .78;
  line-height: 1;

  max-width: 70px;
  overflow:hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.routineDayBtn.rest .lbl{
  opacity: .92;
}

.routineDayBtn .dot{
  width: 7px;
  height: 7px;
  border-radius: 999px;
  background: rgba(255,255,255,.22);
}

.routineDayBtn.sel{
  border-color: rgba(55,214,122,.45);
  box-shadow: 0 0 0 1px rgba(55,214,122,.18) inset;
  color: rgba(255,255,255,.92);
}

.routineDayBtn.sel .dot{
  background: rgba(55,214,122,1);
  box-shadow: 0 0 0 3px rgba(55,214,122,.12);
}
  /* Add Multiple visual feedback */
.item.selected{
  border-color: rgba(124,92,255,.55);
  box-shadow: 0 0 0 2px rgba(124,92,255,.25);
}
    
/* Disabled (already added) look */
.item.disabledRow{
  opacity: .72;
  filter: saturate(.9);
}

button.mini.disabledBtn{
  opacity: .9;
  cursor: default;
}
button.mini.added{
  background: rgba(124,92,255,.2);
  border-color: rgba(124,92,255,.6);
  color: rgba(255,255,255,.95);
}
   /* Floating Next â†’ nudge */
.floatNext{
  position: fixed;
  left: 0;
  right: 0;
  bottom: calc(72px + env(safe-area-inset-bottom));
  display: none;
  justify-content: center;
  z-index: 90;
  pointer-events: none;
}
.floatNext.show{ display:flex; }
.floatNext .btn{
  pointer-events: auto;
  box-shadow: 0 18px 48px rgba(0,0,0,.55);
} 
  /* Settings accordion + search */
.settingsWrap{ display:flex; flex-direction:column; gap: 10px; }
.settingsSearch{
  width: 100%;
  display:flex;
  align-items:center;
  gap: 10px;
  padding: 10px 12px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.06);
}
.settingsSearch .ico{ opacity:.75; font-size: 14px; }
.settingsSearch input{
  flex:1;
  border: none !important;
  background: transparent !important;
  padding: 0 !important;
  outline: none !important;
  color: rgba(255,255,255,.92);
}
.settingsSearch input::placeholder{ color: rgba(255,255,255,.45); }

.accList{ display:flex; flex-direction:column; gap: 10px; }
.accItem{
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.06);
  overflow: hidden;
}
.accHead{
  display:flex;
  gap: 12px;
  align-items:flex-start;
  justify-content: space-between;
  padding: 14px 14px;
  cursor: pointer;
  user-select: none;
}
.accHead:active{ transform: scale(.995); }
.accTitle{ font-weight: 900; letter-spacing:.1px; }
.accSub{ font-size: 12px; color: var(--muted); margin-top: 3px; }
.accCaret{ opacity:.8; font-weight: 900; }

.settingsWrap .accBody{
  display: block; /* overrides the global .accBody { display:none } */
  padding: 0 14px 14px;
  border-top: 1px solid rgba(255,255,255,.08);
}

.setRow{
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: 12px;
  padding: 10px 0;
}
.setRow .meta{ font-size:12px; color: var(--muted); }
.setRow input, .setRow select{
  width: 160px;
  max-width: 44vw;
}

.setLink{
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: 12px;
  padding: 12px 12px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.06);
  cursor:pointer;
}
.setLink:active{ transform: scale(.995); }
.setLink .l{ display:flex; flex-direction:column; gap:2px; }
.setLink .a{ font-weight: 800; }
.setLink .b{ font-size: 12px; color: var(--muted); }
  
/* âœ… GLOBAL COMPACT: Routine + Progress + Settings (iPhone) */
@media (max-width: 500px){

  /* ---------- Routine (lists, segmented picker, toggles, mini buttons) ---------- */
  .seg{ gap: 6px; padding: 5px; border-radius: 14px; }               /* routine add-exercise modal uses this:contentReference[oaicite:5]{index=5} */
  .segbtn{ padding: 8px 8px; font-size: 11px; border-radius: 10px; } /* :contentReference[oaicite:6]{index=6} */

  .list{ gap: 8px; }                                                 /* routine uses list/items heavily:contentReference[oaicite:7]{index=7} */
  .item{ padding: 10px; border-radius: 14px; gap: 10px; }            /* :contentReference[oaicite:8]{index=8} */
  .item .name{ max-width: 64vw; }                                    /* prevents wrapping too early */

  .mini{ padding: 7px 9px; font-size: 11px; border-radius: 10px; }   /* :contentReference[oaicite:9]{index=9} */

  .toggle{ padding: 10px 10px; border-radius: 12px; }                /* toggle + switch appear in routine/settings flows:contentReference[oaicite:10]{index=10} */
  .toggle .ttext .a{ font-size: 12px; }                              /* :contentReference[oaicite:11]{index=11} */
  .toggle .ttext .b{ font-size: 11px; }

  .switch{ width: 46px; height: 26px; }                              /* :contentReference[oaicite:12]{index=12} */
  .switch::after{ width: 20px; height: 20px; }
  .switch.on::after{ left: 22px; }

  /* ---------- Progress (overview tiles, filters form, labels/inputs) ---------- */
  .overviewList{ gap: 10px; padding-top: 6px; }                      /*  */
  .overviewRow{ gap: 4px; }
  .overviewLabel{ font-size: 11px; letter-spacing: .18em; }
  .overviewValue{ font-size: 18px; }                                 /* big numbers in Progress overview */

  .form{ gap: 8px; }                                                 /*  */
  .row2{ gap: 8px; }

  label{ gap: 6px; font-size: 11.5px; }                              /*  */
  input, select, textarea{ padding: 10px 10px; font-size: 16px; border-radius: 12px; }

  /* Prevent iOS input zoom (GLOBAL â€” not just modals) */
@media (hover: none) and (pointer: coarse){
  input,
  select,
  textarea{
    font-size: 16px !important;
  }
}

  canvas{ height: 200px; }                                           /* progress/weight charts */

  /* ---------- Settings (search bar, accordion density, settings rows) ---------- */
  .settingsWrap{ gap: 8px; }                                         /* :contentReference[oaicite:18]{index=18} */
  .settingsSearch{ padding: 8px 10px; border-radius: 14px; gap: 8px; } /* :contentReference[oaicite:19]{index=19} */
  .settingsSearch .ico{ font-size: 13px; }                           /* :contentReference[oaicite:20]{index=20} */

  .accList{ gap: 8px; }                                              /* :contentReference[oaicite:21]{index=21} */
  .accItem{ border-radius: 16px; }
  .accHead{ padding: 12px 12px; gap: 10px; }                         /* :contentReference[oaicite:22]{index=22} */
  .accSub{ font-size: 11px; margin-top: 2px; }                       /* :contentReference[oaicite:23]{index=23} */
  .accBody{ padding: 0 12px 12px; }                                  /* :contentReference[oaicite:24]{index=24} */

  .setRow{ padding: 8px 0; }                                         /* :contentReference[oaicite:25]{index=25} */
  .setRow .meta{ font-size: 11px; }                                  /* :contentReference[oaicite:26]{index=26} */
  .setRow input, .setRow select{ width: 150px; max-width: 46vw; }     /* keeps rows compact */
}
    /* âœ… Protein: Compact iPhone sizing (tile + ring + modal) */
@media (max-width: 500px){

  /* Tighten the Protein tile row layout */
  .homeRow{ gap: 8px; }

  /* Card density (affects Protein tile + others, but in a good way) */
  .card{ padding: 10px; border-radius: 16px; }
  .card h2{ font-size: 11.5px; margin: 0 0 6px 0; }

  /* KPI text (Protein â€œ___g leftâ€) */
  .kpi .big{ font-size: 17px; }
  .kpi .small{ font-size: 11px; line-height: 1.2; }

  /* âœ… Protein ring: more compact */
  .ringWrap{ width: 92px; height: 92px; }
  .ringWrap::before{ inset: 7px; }  /* keeps ring thickness proportional */
  .ringText{ gap: 1px; }
  .ringText .big{ font-size: 14px; }
  .ringText .small{ font-size: 10px; line-height: 1.15; }

  /* Button density (Protein â€œLog mealsâ€ button + modal buttons) */
  .btn{ padding: 9px 11px; border-radius: 12px; }

  /* âœ… Protein modal density (meal list rows + mini buttons) */
  .list{ gap: 8px; }
  .item{ padding: 10px; border-radius: 14px; }
  .name{ font-size: 12px; }
  .meta{ font-size: 11px; }
  .mini{ padding: 7px 9px; font-size: 11px; }
}

    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Protein Modal (Option B)
   - Progress as a card
   - Loading bar concept
   - Compact input rows
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.proteinDateRow input[type="date"]{
  width: 180px;
  max-width: 100%;
  text-align: center;
}

.proteinProgressCard .note{
  margin: 0;
}

.proteinBar{
  width: 100%;
  height: 14px;
  border-radius: 999px;
  background: rgba(255,255,255,.10);
  border: 1px solid rgba(255,255,255,.12);
  overflow: hidden;
}

.proteinBarFill{
  height: 100%;
  width: 0%;
  border-radius: 999px;
  background: rgba(124,92,255,.95);
}

.proteinRow{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 12px;
}

.proteinRow input{
  width: 92px;
  text-align: right;
}
    
    /* Weight page â€” Compact Card Stack (Option 1) */
.weightPage .weightTop{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap: 12px;
}
.weightPage .weightLogBtn{
  padding: 10px 12px;
  border-radius: 14px;
  font-size: 12px;
  font-weight: 750;
}
.weightSummaryKpi .big{
  font-size: 34px;
}
.weightChartHead{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 10px;
}
.segRow{
  display:flex;
  gap: 8px;
}
.seg{
  appearance:none;
  border:none;
  cursor:pointer;
  padding: 8px 10px;
  border-radius: 14px;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.10);
  color: rgba(255,255,255,.78);
  font-size: 11.5px;
  font-weight: 750;
}
.seg.active{
  background: rgba(124,92,255,.18);
  border-color: rgba(124,92,255,.35);
  color: rgba(255,255,255,.95);
}
.weightChartWrap{
  height: 240px;
}
.accHeader{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 10px;
  cursor:pointer;
  user-select:none;
}
.accChevron{
  opacity: .75;
  font-weight: 800;
}
.accBody{
  display:none;
  padding-top: 8px;
}
 /* Progress â€” search + pills */
.progSearch{
  display:flex;
  align-items:center;
  gap: 10px;
  padding: 12px 12px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.06);
}
.progSearch .ico{ opacity:.75; font-size: 14px; }
.progSearch input{
  flex:1;
  border: none !important;
  background: transparent !important;
  padding: 0 !important;
  outline: none !important;
  color: rgba(255,255,255,.92);
}
.progSearch input::placeholder{ color: rgba(255,255,255,.45); }

.segRow{
  display:flex;
  gap: 8px;
  flex-wrap: wrap;
}

.pillRow{ margin-top: 10px; }
.pill{
  display:inline-flex;
  align-items:center;
  gap: 10px;
  padding: 8px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(124,92,255,.14);
}
.pill .t{ font-weight: 850; font-size: 12px; }
.pill .x{
  appearance:none;
  border:none;
  background: rgba(255,255,255,.10);
  color: rgba(255,255,255,.9);
  border-radius: 999px;
  padding: 2px 8px;
  cursor:pointer;
}
.pill .x:active{ transform: scale(.98); }

.progResults{ margin-top: 10px; }
    /* âœ… Prevent iOS Safari auto-zoom on focus (must be >= 16px computed) */
@media (hover: none) and (pointer: coarse){
  input, select, textarea,
  .settingsSearch input{
    font-size: 16px !important;
  }
}
  /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Onboarding vA (onbV1)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.onbV1{
  display:grid;
  gap: 12px;
}

.onbV1 .onbHero .kpi .big{
  font-size: 22px;
  line-height: 1.15;
}

.onbV1 .onbHero .kpi .small{
  opacity: .85;
}

@media (min-width: 860px){
  .onbV1{
    grid-template-columns: 1fr 1fr;
    align-items:start;
  }
  .onbV1 .onbHero{
    grid-column: 1 / -1;
  }
}
/* =========================
   Home (Option A) additions
   ========================= */

.homeWeekDots{
  display:flex;
  gap: 10px;
  align-items:center;
  flex-wrap: nowrap;
}

.tag{
  display:inline-flex;
  align-items:center;
  gap: 8px;
  padding: 8px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.06);
  color: rgba(255,255,255,.86);
  font-size: 12px;
  white-space: nowrap;
}
.tag.good{
  border-color: rgba(80, 255, 170, .22);
  background: rgba(80, 255, 170, .10);
}
.tag.warn{
  border-color: rgba(255, 205, 92, .22);
  background: rgba(255, 205, 92, .10);
}

.exList{
  display:flex;
  flex-direction:column;
  gap: 10px;
}
.exItem{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 10px;
  padding: 10px 12px;
  border-radius: 14px;
  background: rgba(0,0,0,.14);
  border: 1px solid rgba(255,255,255,.10);
}
.exItem .name{ font-weight: 850; }
.exItem .meta{ color: rgba(255,255,255,.55); font-size: 12px; margin-top: 2px; }
.exItem .left{ display:flex; flex-direction:column; gap:2px; }

.exItem .chip{
  padding: 6px 10px;
  font-size: 11px;
  opacity: .92;
}

.homeWeekMetrics{
  display:grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 10px;
}
.homeMini{
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.14);
  padding: 10px 12px;
  min-height: 64px;
}
.homeMini .lab{ font-size: 11px; color: rgba(255,255,255,.55); }
.homeMini .val{ margin-top: 4px; font-size: 18px; font-weight: 900; letter-spacing: -.2px; }

.goalsList{
  display:flex;
  flex-direction:column;
  gap: 10px;
}
.goalsList{
  display:flex;
  flex-direction:column;
  gap: 10px;
}

.goalItem{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap: 12px;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.14);
  position: relative;
  overflow: hidden;
}

/* âœ… V2 completion glow/sheen */
.goalItem.complete{
  border-color: rgba(124,92,255,.34);
  background: linear-gradient(180deg, rgba(124,92,255,.12), rgba(0,0,0,.14));
  box-shadow: 0 0 0 1px rgba(124,92,255,.10) inset, 0 14px 40px rgba(124,92,255,.06);
}
.goalItem.complete::after{
  content:"";
  position:absolute;
  inset:-40% -60%;
  transform: rotate(18deg);
  background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,.08) 45%, transparent 60%);
  opacity: 0;
  pointer-events:none;
  animation: goalSheen 3.6s ease-in-out infinite;
}
@keyframes goalSheen{
  0%   { opacity:0; transform: translateX(-40%) rotate(18deg); }
  15%  { opacity:.55; }
  35%  { opacity:0; }
  100% { opacity:0; transform: translateX(40%) rotate(18deg); }
}

/* âœ… IMPORTANT: makes the bar span the full row width */
.goalLeft{
  display:flex;
  flex-direction:column;
  gap:6px;
  min-width: 0;
  flex: 1 1 auto;
}

.goalName{ font-weight: 900; letter-spacing: .15px; }

.goalSubtext{
  color: rgba(255,255,255,.55);
  font-size: 12px;
  line-height: 1.25;
}

/* Percent chip */
.goalPct{
  flex: 0 0 auto;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.06);
  color: rgba(255,255,255,.86);
  font-size: 12px;
  white-space: nowrap;
}

/* V2: progress bar + goal tick */
.goalBar{
  width: 100%;
  height: 8px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.06);
  overflow: hidden;
  position: relative;
}

.goalTick{
  position:absolute;
  top: -2px;
  right: 0;
  width: 2px;
  height: calc(100% + 4px);
  background: rgba(255,255,255,.32);
  border-radius: 2px;
  opacity: .55;
}

.goalBarFill{
  height: 100%;
  width: 0%;
  border-radius: 999px;
  background: rgba(255,255,255,.70);
  transition: width 420ms ease;
}

/* State coloring (optional but matches v2 sandbox feel) */
.goalItem.good .goalBarFill{ background: rgba(55,214,122,.85); }
.goalItem.warn .goalBarFill{ background: rgba(255,209,102,.85); }
.goalItem.bad  .goalBarFill{ background: rgba(255,92,122,.85); }

.goalItem.good .goalPct{
  border-color: rgba(55,214,122,.28);
  background: rgba(55,214,122,.12);
}
.goalItem.warn .goalPct{
  border-color: rgba(255,209,102,.28);
  background: rgba(255,209,102,.12);
}
.goalItem.bad .goalPct{
  border-color: rgba(255,92,122,.28);
  background: rgba(255,92,122,.12);
}
.goalItem.complete .goalPct{
  border-color: rgba(124,92,255,.34);
  background: rgba(124,92,255,.16);
}

/* Simple editor blocks inside Modal (Home -> Edit Goals) */
.goalEditRow{
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.14);
}
.goalEditCols{
  display:grid;
  grid-template-columns: 1fr;
  gap: 10px;
}
@media (min-width: 720px){
  .goalEditCols{ grid-template-columns: 2fr 3fr 1fr; }
}
/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Home: Metric Cards (Phase 3/4)
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

.homeMetricCards{
  display:grid;
  grid-template-columns: 1fr;
  gap:10px;
}

.homeMetricCard{
  width:100%;
  text-align:left;

  /* âœ… iOS button text default is blue â€” force white */
  color: var(--text);

  /* âœ… remove iOS button styling */
  appearance: none;
  -webkit-appearance: none;
  border:0;
  background: rgba(255,255,255,.06);

  /* âœ… keep your existing look */
  cursor:pointer;
  padding:12px;
  border-radius:16px;
  box-shadow: 0 10px 26px rgba(0,0,0,.18);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);

  /* âœ… typography consistency */
  font: inherit;
}

.homeMetricCard:active{
  transform: translateY(1px);
}

.homeMetricCard.disabled{
  opacity:.55;
}

.homeMetricTop{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
}

.homeMetricTitle{
  font-weight:900;
  letter-spacing:.2px;
}

.homeMetricPill{
  font-size:12px;
  font-weight:850;
  padding:6px 10px;
  border-radius:999px;
  background: rgba(0,0,0,.22);
}

.homeMetricSub{
  margin-top:6px;
  font-size:12px;
  opacity:.75;
}

.homeMetricVal{
  margin-top:10px;
  font-size:20px;
  font-weight:950;
  letter-spacing:.2px;
}

@media (min-width: 640px){
  .homeMetricCards{
    grid-template-columns: repeat(3, 1fr);
  }
}
/* This Week: dot labels */
.homeWeekDotLabels{
  display:flex;
  gap: 10px;
  align-items:center;
  flex-wrap: nowrap;
}

.dotLbl{
  width:14px;
  text-align:center;
  font-size:10px;
  color: rgba(255,255,255,.55);
}

/* Coach Insight block */
.coachInsight{
  padding: 12px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.14);
}

.coachTitle{
  font-weight: 950;
  letter-spacing: .2px;
  font-size: 12px;
}

.coachText{
  margin-top: 6px;
  white-space: pre-line;
  font-size: 12px;
  line-height: 1.35;
  color: rgba(255,255,255,.72);
}

.coachAction{
  margin-top: 8px;
  font-size: 12px;
  font-weight: 900;
  color: rgba(255,255,255,.86);
}
